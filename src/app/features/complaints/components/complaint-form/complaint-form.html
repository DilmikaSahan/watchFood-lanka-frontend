<form class="complaint-form" [formGroup]="complaintForm" (ngSubmit)="onSubmit()">
  <h3>Submit a Complaint</h3>

  <!-- Category -->
  <div class="form-group">
    <label>Category</label>
    <select formControlName="category">
      <option value="" disabled>Select category</option>
      <option value="FOOD_POISONING">Food Poisoning</option>
      <option value="HYGIENE">Hygiene</option>
      <option value="SERVICE_ISSUE">Service Issue</option>
      <option value="PACKAGING">Packaging</option>
      <option value="OTHER">Other</option>
    </select>
    <div class="error" *ngIf="complaintForm.get('category')?.touched && complaintForm.get('category')?.invalid">
      Category is required.
    </div>
  </div>

  <!-- Description -->
  <div class="form-group">
    <label>Description</label>
    <textarea
      rows="4"
      formControlName="description"
      placeholder="Describe your complaint in detail...">
    </textarea>
    <div class="error" *ngIf="complaintForm.get('description')?.touched && complaintForm.get('description')?.invalid">
      Description is required (max 2000 characters).
    </div>
  </div>

  <!-- Province / District in one row -->
  <div class="form-row">
    <div class="form-group">
      <label>Province</label>
      <select formControlName="province">
        <option value="" disabled>Select province</option>
        <option *ngFor="let p of provinces" [value]="p">{{ p }}</option>
      </select>
      <div class="error" *ngIf="complaintForm.get('province')?.touched && complaintForm.get('province')?.invalid">
        Province is required.
      </div>
    </div>

    <div class="form-group">
      <label>District</label>
      <select formControlName="district" [disabled]="!filteredDistricts.length">
        <option value="" disabled>Select district</option>
        <option *ngFor="let d of filteredDistricts" [value]="d">{{ d }}</option>
      </select>
      <div class="error" *ngIf="complaintForm.get('district')?.touched && complaintForm.get('district')?.invalid">
        District is required.
      </div>
    </div>
  </div>

  <!-- City / Location -->
  <div class="form-row">
    <div class="form-group">
      <label>City / Town</label>
      <input type="text" formControlName="city" placeholder="e.g. Bandarawela" />
      <div class="error" *ngIf="complaintForm.get('city')?.touched && complaintForm.get('city')?.invalid">
        City is required.
      </div>
    </div>

    <div class="form-group">
      <label>Location / Address</label>
      <input type="text" formControlName="location" placeholder="Shop/restaurant address" />
      <div class="error" *ngIf="complaintForm.get('location')?.touched && complaintForm.get('location')?.invalid">
        Location is required.
      </div>
    </div>
  </div>

  <button class="submit-btn" type="submit">
    Submit Complaint
  </button>
</form>
